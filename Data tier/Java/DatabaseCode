CREATE SCHEMA "fooddb";
SET search_path="fooddb";

CREATE TABLE users(
	Userid   SERIAL  PRIMARY KEY,
	Email VARCHAR(100),
	Password VARCHAR(50),
	FirstName VARCHAR(20) ,
	LastName VARCHAR(30) ,
	Phone int,
	Address VARCHAR(30),
	PostalCode int
);

SELECT*FROM Users;
INSERT INTO Users(Email,Password,FirstName,LastName,Phone,Address,PostalCode) VALUES('Satish','grg','satish','gurung',200,'horsens',3200);


CREATE TABLE administrators(
Id Serial PRIMARY KEY,
	Email VARCHAR(100),
	Password VARCHAR(50)
);
Insert into administrators(Email,Password) VALUES(
								 'Satish','gurung');
	DELETE From administrators ;
	SELECT * FROM administrators;


CREATE TABLE ingredients(
	Id SERIAL PRIMARY KEY,
	Name VARCHAR(100) ,
	Calories int
);
Insert INTO ingredients(name,calories) values('Paste',200);
update Ingredients set calories = 300  where name = 'Paste';
SELECT * From ingredients;


CREATE TABLE orders(
	orderId Serial PRIMARY KEY,
	orderDate Date ,
	InvoiceAddress VARCHAR(50),
	DeliveryAddress VARCHAR(50),
	City VARCHAR(50),
	PostalCode VARCHAR(20),
	TotalPrice int,
	ItemPrice int,
	DeliveryPrice int,
	Currency VARCHAR(50),
	IsDelivered boolean,
	userId int
);

SELECT* FROM orders;
DELETE FROM orders ;


CREATE TABLE recipes(
Id  SERIAL PRIMARY KEY,
	Name VARCHAR(50) UNIQUE ,
	Calories int,
	NutritionType VARCHAR(50),
	FoodType VARCHAR(50),
	Price int
);
select * from Recipes ;
DELETE From Recipes;


CREATE TABLE orderRecipe(
   Id    INTEGER NOT NULL,
   orderId   INTEGER NOT NULL,
   date Date NOT NULL,
   	CONSTRAINT Recipe_fk FOREIGN KEY (Id) REFERENCES recipes(Id) ,
	CONSTRAINT order_fk FOREIGN KEY(orderId) REFERENCES orders(orderId),
	CONSTRAINT orderRecipe_pk PRIMARY KEY(Id,orderId,date)

);
SELECT*FROM orderRecipe;
