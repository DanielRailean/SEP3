@inject AuthenticationStateProvider AuthenticationStateProvider
@inject NavigationManager NavigationManager
@inject IBasketService BasketService;

@using WebApp.Authentication
@using WebApp.Data


    <nav class = "navbar">
        <ul class="navbar-nav">

          <li class="logo">
            <a href="/" class="nav-link">
              <span class="link-text logo-text">GodEats</span>
              <svg 
                aria-hidden="true" 
                focusable="false" 
                data-prefix="fa-duotone" 
                data-icon="star-of-david" 
                class="svg-inline--fa fa-star-of-david fa-w-16"
                role="img" 
                xmlns="http://www.w3.org/2000/svg" 
                viewBox="0 0 512 512">
                <defs><style>.fa-secondary{opacity:.4}</style></defs>
                <g class="fa-group"><path class="fa-primary" d="M110.1 310.6L76.37 256l-55.1 89.38C6.366 369.6 24.81 399.1 54.39 399.1l225.1-.0013l34.4-55.1H89.48L110.1 310.6zM256 73.77l23.59 38.23l67.39-.0013l-57.87-93.1c-11.1-17.67-34.94-23.29-53.22-12.56c-5.313 3.119-9.784 7.422-13.01 12.56L110 201.3L143.8 256L256 73.77zM490.7 345.4l-109.3-177.4h-67.48l108.5 175.1h-41.19l-34.39 56h110.7C487.2 399.1 505.6 369.6 490.7 345.4z" fill="currentColor"/>
                  <path class="fa-secondary" d="M198 343.1L89.48 168h41.04l34.49-56H54.39c-29.59 0-48.04 30.41-33.12 54.62l109.3 177.4H198zM256 438.2l-23.59-38.25l-67.4 .0013l57.87 93.1c11.1 17.67 34.94 23.29 53.22 12.56c5.313-3.119 9.785-7.421 13.01-12.56l112.9-183.3L368.3 256L256 438.2zM457.6 112L232.5 112L197.1 168h224.5l-20.53 33.29L435.6 256l55.1-89.38C505.6 142.4 487.2 112 457.6 112z" fill="currentColor"/></g></svg>

            </a>
          </li>
          
          <AuthorizeView>
            <li class="nav-item">
                          <a href="/" class="nav-link">
                            <svg aria-hidden="true" focusable="false" data-prefix="fa-duotone" data-icon="house-heart" class="svg-inline--fa fa-house-heart fa-w-18" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><defs><style>.fa-secondary{opacity:.4}</style></defs><g class="fa-group"><path class="fa-primary" d="M340.4 255.1c-15.97 0-32.08 6.586-44.04 18.88l-8.445 8.754L279.4 274.9c-11.89-12.29-27.94-18.88-43.88-18.88c-34.81 0-57.26 30.12-57.26 59.73c0 15.39 5.682 30.78 17.06 42.59l82.99 85.56c2.693 2.752 6.182 4.128 9.671 4.128s6.977-1.376 9.669-4.128l82.99-85.56c11.36-11.79 17.05-27.16 17.05-42.53C397.7 286.2 375.1 255.1 340.4 255.1zM565.1 231.9l-53.08-46.45l.0037-137.5c0-8.828-7.156-15.1-15.1-15.1l-63.1-.0074c-8.842 0-15.1 7.172-15.1 15.1v53.49l-106.9-93.55c-6.031-5.281-13.55-7.919-21.08-7.919s-15.05 2.638-21.08 7.919L10.92 231.9C2.657 239.2 .0016 248.6 .0016 255.1c0 24.27 21.99 31.1 31.1 32c7.477 0 14.99-2.603 21.08-7.908L288 74.54l234.9 205.6c6.078 5.312 13.6 7.907 21.07 7.907c9.839 0 32.01-7.734 32.01-31.1C575.1 248.6 573.3 239.1 565.1 231.9z" fill="currentColor"/><path class="fa-secondary" d="M288 74.54L64.02 270.5l-.0099 177.5c0 35.35 28.65 63.1 63.1 63.1h319.1c35.35 0 63.1-28.65 63.1-63.1l-.0012-177.5L288 74.54zM397.7 315.8c0 15.37-5.682 30.75-17.05 42.53l-82.99 85.56c-2.692 2.752-6.181 4.128-9.669 4.128s-6.977-1.376-9.671-4.128l-82.99-85.56c-11.38-11.8-17.06-27.2-17.06-42.59c0-29.53 22.41-59.73 57.26-59.73c15.94 0 31.99 6.586 43.88 18.88l8.447 8.754l8.445-8.754c11.96-12.29 28.08-18.88 44.04-18.88C375.1 255.1 397.7 286.1 397.7 315.8z" fill="currentColor"/></g></svg>
                      
                            <span class="link-text">Home</span>
                          </a>
                        </li>


          </AuthorizeView>
            <AuthorizeView Policy="Admin">
            
            <li class="nav-item">
              <a href="/manageorders" class="nav-link">
                <svg aria-hidden="true" focusable="false" data-prefix="fa-duotone" data-icon="list-radio" class="svg-inline--fa fa-list-radio fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><defs><style>.fa-secondary{opacity:.4}</style></defs><g class="fa-group"><path class="fa-primary" d="M64 192C28.65 192 0 220.7 0 256s28.65 64 64 64c35.35 0 64-28.66 64-64S99.35 192 64 192zM64 280C50.77 280 40 269.2 40 256c0-13.23 10.77-24 24-24c13.23 0 24 10.77 24 24C88 269.2 77.23 280 64 280zM64 352c-35.35 0-64 28.66-64 64s28.65 64 64 64c35.35 0 64-28.66 64-64S99.35 352 64 352zM64 440c-13.23 0-24-10.77-24-24c0-13.23 10.77-24 24-24c13.23 0 24 10.77 24 24C88 429.2 77.23 440 64 440zM99.78 42.93C89.57 36.03 77.25 32 64 32C28.65 32 0 60.66 0 96s28.65 64 64 64c13.25 0 25.57-4.029 35.78-10.93c6.811-4.6 12.69-10.48 17.29-17.29C123.1 121.6 128 109.3 128 96S123.1 70.43 117.1 60.22C112.5 53.41 106.6 47.53 99.78 42.93z" fill="currentColor"/><path class="fa-secondary" d="M192 128h288c17.67 0 32-14.33 32-32s-14.33-32-32-32H192C174.3 64 160 78.33 160 96S174.3 128 192 128zM480 224H192C174.3 224 160 238.3 160 256s14.33 32 32 32h288c17.67 0 32-14.33 32-32S497.7 224 480 224zM480 384H192c-17.67 0-32 14.33-32 32s14.33 32 32 32h288c17.67 0 32-14.33 32-32S497.7 384 480 384z" fill="currentColor"/></g></svg>

                <span class="link-text">Manage Orders</span>
              </a>
            </li>

            <li class="nav-item">
              <a href="/managerecipes" class="nav-link">
                <svg aria-hidden="true" focusable="false" data-prefix="fa-duotone" data-icon="ballot-check" class="svg-inline--fa fa-ballot-check fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><defs><style>.fa-secondary{opacity:.4}</style></defs><g class="fa-group"><path class="fa-primary" d="M80 160h32C120.8 160 128 152.8 128 144v-32C128 103.3 120.8 96 112 96h-32C71.25 96 64 103.3 64 112v32C64 152.8 71.25 160 80 160zM112 352h-32C71.25 352 64 359.3 64 368v32C64 408.8 71.25 416 80 416h32C120.8 416 128 408.8 128 400v-32C128 359.3 120.8 352 112 352zM163.3 204.7c-6.25-6.25-16.38-6.25-22.62 0L96 249.4L83.31 236.7c-6.25-6.25-16.38-6.25-22.62 0s-6.25 16.38 0 22.62l24 24C87.81 286.4 91.91 288 96 288s8.188-1.562 11.31-4.688l56-56C169.6 221.1 169.6 210.9 163.3 204.7z" fill="currentColor"/><path class="fa-secondary" d="M384 0H64C28.65 0 0 28.65 0 64v384c0 35.35 28.65 64 64 64h320c35.35 0 64-28.65 64-64V64C448 28.65 419.3 0 384 0zM64 112C64 103.3 71.25 96 80 96h32C120.8 96 128 103.3 128 112v32C128 152.8 120.8 160 112 160h-32C71.25 160 64 152.8 64 144V112zM128 400C128 408.8 120.8 416 112 416h-32C71.25 416 64 408.8 64 400v-32C64 359.3 71.25 352 80 352h32C120.8 352 128 359.3 128 368V400zM163.3 227.3l-56 56C104.2 286.4 100.1 288 96 288S87.81 286.4 84.69 283.3l-24-24c-6.25-6.25-6.25-16.38 0-22.62s16.38-6.25 22.62 0L96 249.4l44.69-44.69c6.25-6.25 16.38-6.25 22.62 0S169.6 221.1 163.3 227.3zM368 400h-160C199.2 400 192 392.8 192 384s7.164-16 16-16h160c8.836 0 16 7.164 16 16S376.8 400 368 400zM368 272h-160C199.2 272 192 264.8 192 256s7.164-16 16-16h160C376.8 240 384 247.2 384 256S376.8 272 368 272zM368 144h-160C199.2 144 192 136.8 192 128s7.164-16 16-16h160C376.8 112 384 119.2 384 128S376.8 144 368 144z" fill="currentColor"/></g></svg>

                <span class="link-text">Manage Recipes</span>
              </a>
            </li>

            <li class="nav-item">
              <a href="/manageingredients" class="nav-link">
               <svg aria-hidden="true" focusable="false" data-prefix="fa-duotone" data-icon="bars-progress" class="svg-inline--fa fa-bars-progress fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><defs><style>.fa-secondary{opacity:.4}</style></defs><g class="fa-group"><path class="fa-primary" d="M24 320H160V192H24C10.75 192 0 202.8 0 216v80C0 309.3 10.75 320 24 320zM0 376v80C0 469.3 10.75 480 24 480H288v-128H24C10.75 352 0 362.8 0 376zM24 32C10.75 32 0 42.75 0 56v80C0 149.3 10.75 160 24 160H352V32H24z" fill="currentColor"/><path class="fa-secondary" d="M488 352H288v128h200c13.25 0 24-10.75 24-24v-80C512 362.8 501.3 352 488 352zM464 432h-175v-32H464V432zM488 32H352v128h136C501.3 160 512 149.3 512 136v-80C512 42.75 501.3 32 488 32zM464 112h-111v-32H464V112zM488 192H160v128h328C501.3 320 512 309.3 512 296v-80C512 202.8 501.3 192 488 192zM464 272H161v-32H464V272z" fill="currentColor"/></g></svg>
               
                <span class="link-text">Manage Ingredients</span>
              </a>
            </li>

              <li class="nav-item">
                <a href="/chat" class="nav-link">
                  <svg aria-hidden="true" focusable="false" data-prefix="fa-duotone" data-icon="comments-question" class="svg-inline--fa fa-comments-question fa-w-20" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><defs><style>.fa-secondary{opacity:.4}</style></defs><g class="fa-group"><path class="fa-primary" d="M234.5 108.7c9.176 0 16.82 7.646 16.82 16.82c0 6.117-3.059 11.47-8.412 14.53l-43.59 26C193.2 169.9 190.1 176 190.1 182.1v12.23c0 9.941 8.41 18.35 18.35 18.35s18.35-8.412 18.35-18.35V192.8l35.18-21.41C278.1 161.5 288 143.9 288 125.5C288 95.71 264.3 72 234.5 72H194.7c-29.82 0-53.53 23.71-53.53 53.53c0 9.941 8.412 18.35 18.35 18.35c9.939 0 18.35-8.412 18.35-18.35c0-9.178 7.646-16.82 16.82-16.82H234.5zM208.5 239.1C194.7 239.1 184 249.8 184 263.5C184 277.3 194.7 288 208.5 288c13.77 0 24.47-10.71 24.47-24.47C232.9 249.8 222.2 239.1 208.5 239.1zM599.6 443.7C624.8 413.9 640 376.6 640 336C640 238.8 554 160 448 160c-.3145 0-.6191 .041-.9336 .043C447.5 165.3 448 170.6 448 176c0 98.62-79.68 181.2-186.1 202.5C282.7 455.1 357.1 512 448 512c33.69 0 65.32-8.008 92.85-21.98C565.2 502 596.1 512 632.3 512c3.059 0 5.76-1.725 7.02-4.605c1.229-2.879 .6582-6.148-1.441-8.354C637.6 498.7 615.9 475.3 599.6 443.7z" fill="currentColor"/><path class="fa-secondary" d="M208 0C93.13 0 0 78.8 0 176c0 39.57 15.62 75.96 41.67 105.4c-16.39 32.76-39.23 57.32-39.59 57.68c-2.1 2.205-2.67 5.475-1.441 8.354C1.9 350.3 4.602 352 7.66 352c38.35 0 70.76-11.12 95.74-24.04C134.2 343.1 169.8 352 208 352c114.9 0 208-78.8 208-176C416 78.8 322.9 0 208 0zM208.5 288C194.7 288 184 277.3 184 263.5c0-13.77 10.71-24.47 24.47-24.47c13.77 0 24.47 10.71 24.47 24.47C232.9 277.3 222.2 288 208.5 288zM261.1 171.4L226.8 192.8v1.529c0 9.941-8.412 18.35-18.35 18.35S190.1 204.3 190.1 194.4V182.1c0-6.117 3.059-12.23 9.176-16.06l43.59-26C248.2 137 251.3 131.6 251.3 125.5c0-9.178-7.648-16.82-16.82-16.82H194.7c-9.178 0-16.82 7.646-16.82 16.82c0 9.941-8.412 18.35-18.35 18.35c-9.941 0-18.35-8.412-18.35-18.35C141.2 95.71 164.9 72 194.7 72h39.76C264.3 72 288 95.71 288 125.5C288 143.9 278.1 161.5 261.1 171.4z" fill="currentColor"/></g></svg>

                  <span class="link-text">Admin Chat</span>
                </a>
              </li>
              
              <li class="nav-item">
                <a href="/profile" class="nav-link">
                  <svg aria-hidden="true" focusable="false" data-prefix="fa-duotone" data-icon="head-side-brain" class="svg-inline--fa fa-head-side-brain fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><defs><style>.fa-secondary{opacity:.4}</style></defs><g class="fa-group"><path class="fa-primary" d="M336 208h-51c2 5.125 3 10.5 3 16c0 26.5-21.5 48-48 48c-5.5 0-10.88-1-16-3L224 320H160L160 269C154.9 271 149.5 272 144 272C117.5 272 96 250.5 96 224c0-1 .25-1.875 .25-2.875C74.13 213.5 60.75 191 64.63 167.9C68.63 144.9 88.63 128 112 128c0-26.5 21.5-48 48-48c8.25 0 16.38 2.25 23.5 6.375C192.3 72.5 207.5 64 224 64c16.5 0 31.75 8.5 40.5 22.38c12.25-7.125 27-8.375 40.38-3.375C318.1 88 328.5 98.62 333 112h3c26.5 0 48 21.5 48 48S362.5 208 336 208z" fill="currentColor"/><path class="fa-secondary" d="M159.9 178.9L160 176C160 177 159.9 177.9 159.9 178.9C159.9 178.9 159.8 178.8 159.9 178.9zM509.2 275c-21-47.12-48.5-151.8-73.12-186.8C397.1 32.88 333.7 0 266.1 0H192C86 0 0 86 0 192c0 54.5 23.25 106.5 64 142.9L64 512h256l-.0053-64h63.99c35.38 0 63.1-28.62 63.1-63.1V320h31.1c10.88 0 20.89-5.5 26.77-14.62C512.8 296.4 513.6 284.9 509.2 275zM336 208h-51c2 5.125 3 10.5 3 16c0 26.5-21.5 48-48 48c-5.5 0-10.88-1-16-3L224 320H160L160 269C154.9 271 149.5 272 144 272C117.5 272 96 250.5 96 224c0-1 .25-1.875 .25-2.875C74.13 213.5 60.75 191 64.63 167.9C68.63 144.9 88.63 128 112 128c0-26.5 21.5-48 48-48c8.25 0 16.38 2.25 23.5 6.375C192.3 72.5 207.5 64 224 64c16.5 0 31.75 8.5 40.5 22.38c12.25-7.125 27-8.375 40.38-3.375C318.1 88 328.5 98.62 333 112h3c26.5 0 48 21.5 48 48S362.5 208 336 208z" fill="currentColor"/></g></svg>

                  <span class="link-text">Profile</span>
                </a>
              </li>
                          
              
              
            </AuthorizeView>
            
            
          <AuthorizeView Policy="Customer">
            
            <li class="nav-item">
              <a href="/profile" class="nav-link">
                <svg aria-hidden="true" focusable="false" data-prefix="fa-duotone" data-icon="head-side-brain" class="svg-inline--fa fa-head-side-brain fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><defs><style>.fa-secondary{opacity:.4}</style></defs><g class="fa-group"><path class="fa-primary" d="M336 208h-51c2 5.125 3 10.5 3 16c0 26.5-21.5 48-48 48c-5.5 0-10.88-1-16-3L224 320H160L160 269C154.9 271 149.5 272 144 272C117.5 272 96 250.5 96 224c0-1 .25-1.875 .25-2.875C74.13 213.5 60.75 191 64.63 167.9C68.63 144.9 88.63 128 112 128c0-26.5 21.5-48 48-48c8.25 0 16.38 2.25 23.5 6.375C192.3 72.5 207.5 64 224 64c16.5 0 31.75 8.5 40.5 22.38c12.25-7.125 27-8.375 40.38-3.375C318.1 88 328.5 98.62 333 112h3c26.5 0 48 21.5 48 48S362.5 208 336 208z" fill="currentColor"/><path class="fa-secondary" d="M159.9 178.9L160 176C160 177 159.9 177.9 159.9 178.9C159.9 178.9 159.8 178.8 159.9 178.9zM509.2 275c-21-47.12-48.5-151.8-73.12-186.8C397.1 32.88 333.7 0 266.1 0H192C86 0 0 86 0 192c0 54.5 23.25 106.5 64 142.9L64 512h256l-.0053-64h63.99c35.38 0 63.1-28.62 63.1-63.1V320h31.1c10.88 0 20.89-5.5 26.77-14.62C512.8 296.4 513.6 284.9 509.2 275zM336 208h-51c2 5.125 3 10.5 3 16c0 26.5-21.5 48-48 48c-5.5 0-10.88-1-16-3L224 320H160L160 269C154.9 271 149.5 272 144 272C117.5 272 96 250.5 96 224c0-1 .25-1.875 .25-2.875C74.13 213.5 60.75 191 64.63 167.9C68.63 144.9 88.63 128 112 128c0-26.5 21.5-48 48-48c8.25 0 16.38 2.25 23.5 6.375C192.3 72.5 207.5 64 224 64c16.5 0 31.75 8.5 40.5 22.38c12.25-7.125 27-8.375 40.38-3.375C318.1 88 328.5 98.62 333 112h3c26.5 0 48 21.5 48 48S362.5 208 336 208z" fill="currentColor"/></g></svg>
                        
                <span class="link-text">Profile</span>
              </a>
            </li>
            
            <li class="nav-item">
              <a href="/chat" class="nav-link">
                <svg aria-hidden="true" focusable="false" data-prefix="fa-duotone" data-icon="comments-question-check" class="svg-inline--fa fa-comments-question-check fa-w-20" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><defs><style>.fa-secondary{opacity:.4}</style></defs><g class="fa-group"><path class="fa-primary" d="M234.5 108.7c9.176 0 16.82 7.646 16.82 16.82c0 6.117-3.059 11.47-8.412 14.53l-43.59 26C193.2 169.9 190.1 176 190.1 182.1v12.23c0 9.941 8.41 18.35 18.35 18.35s18.35-8.412 18.35-18.35V192.8l35.18-21.41C278.1 161.5 288 143.9 288 125.5C288 95.71 264.3 72 234.5 72H194.7c-29.82 0-53.53 23.71-53.53 53.53c0 9.941 8.412 18.35 18.35 18.35c9.939 0 18.35-8.412 18.35-18.35c0-9.178 7.646-16.82 16.82-16.82H234.5zM208.5 239.1C194.7 239.1 184 249.8 184 263.5C184 277.3 194.7 288 208.5 288c13.77 0 24.47-10.71 24.47-24.47C232.9 249.8 222.2 239.1 208.5 239.1zM599.6 443.7C624.8 413.9 640 376.6 640 336C640 238.8 554 160 448 160c-.3145 0-.6191 .041-.9336 .043C447.5 165.3 448 170.6 448 176c0 98.62-79.68 181.2-186.1 202.5C282.7 455.1 357.1 512 448 512c33.69 0 65.32-8.008 92.85-21.98C565.2 502 596.1 512 632.3 512c3.059 0 5.76-1.725 7.02-4.605c1.229-2.879 .6582-6.148-1.441-8.354C637.6 498.7 615.9 475.3 599.6 443.7zM542.5 317.8l-84 88c-3.719 3.891-8.859 6.125-14.23 6.188c-5.297 0-10.62-2.109-14.38-5.859l-40-40c-7.812-7.812-7.812-20.47 0-28.28s20.47-7.812 28.28 0l25.53 25.53l69.86-73.2c7.656-8 20.3-8.297 28.28-.6562C549.8 297.2 550.1 309.8 542.5 317.8z" fill="currentColor"/><path class="fa-secondary" d="M208 0C93.13 0 0 78.8 0 176c0 39.57 15.62 75.96 41.67 105.4c-16.39 32.76-39.23 57.32-39.59 57.68c-2.1 2.205-2.67 5.475-1.441 8.354C1.9 350.3 4.602 352 7.66 352c38.35 0 70.76-11.12 95.74-24.04C134.2 343.1 169.8 352 208 352c114.9 0 208-78.8 208-176C416 78.8 322.9 0 208 0zM208.5 288C194.7 288 184 277.3 184 263.5c0-13.77 10.71-24.47 24.47-24.47c13.77 0 24.47 10.71 24.47 24.47C232.9 277.3 222.2 288 208.5 288zM261.1 171.4L226.8 192.8v1.529c0 9.941-8.412 18.35-18.35 18.35S190.1 204.3 190.1 194.4V182.1c0-6.117 3.059-12.23 9.176-16.06l43.59-26C248.2 137 251.3 131.6 251.3 125.5c0-9.178-7.648-16.82-16.82-16.82H194.7c-9.178 0-16.82 7.646-16.82 16.82c0 9.941-8.412 18.35-18.35 18.35c-9.941 0-18.35-8.412-18.35-18.35C141.2 95.71 164.9 72 194.7 72h39.76C264.3 72 288 95.71 288 125.5C288 143.9 278.1 161.5 261.1 171.4z" fill="currentColor"/></g></svg>

                <span class="link-text">Chat</span>
              </a>
            </li>

            <li class="nav-item">
              <a href="/basket" class="nav-link">
                <svg aria-hidden="true" focusable="false" data-prefix="fa-duotone" data-icon="basket-shopping" class="svg-inline--fa fa-basket-shopping fa-w-18" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><defs><style>.fa-secondary{opacity:.4}</style></defs><g class="fa-group"><path class="fa-primary" d="M243.1 2.728C231.3-3.396 216.8 1.197 210.7 12.95l-104 199.1c-6.109 11.75-1.531 26.25 10.22 32.34C120.5 247.1 124.3 248 127.1 248c8.656 0 17.03-4.719 21.31-12.94l103.1-199.1C259.4 23.32 254.8 8.822 243.1 2.728zM469.3 212.9l-104-199.1c-6.141-11.78-20.56-16.37-32.36-10.22c-11.75 6.094-16.33 20.59-10.22 32.34l103.1 199.1c4.281 8.218 12.64 12.94 21.31 12.94c3.734 0 7.516-.875 11.06-2.719C470.8 239.2 475.4 224.7 469.3 212.9z" fill="currentColor"/><path class="fa-secondary" d="M560 192l-101.6 .002l10.89 20.94c6.109 11.75 1.531 26.25-10.22 32.34c-3.547 1.844-7.328 2.719-11.06 2.719c-8.672 0-17.03-4.719-21.31-12.94l-22.38-43.06H171.7l-22.38 43.06C145 243.3 136.6 248 127.1 248c-3.734 0-7.516-.875-11.06-2.719C105.2 239.2 100.6 224.7 106.7 212.9l10.89-20.94L16 192c-8.836 0-16 7.164-16 15.1v32c0 8.836 7.164 15.1 16 15.1h23.11l45.75 205.9C91.37 491.2 117.3 512 147.3 512h281.3c29.1 0 55.97-20.83 62.48-50.12l45.75-205.9H560c8.838 0 16-7.164 16-15.1v-32C576 199.2 568.8 192 560 192zM192 432c0 8.834-7.166 15.1-16 15.1c-8.832 0-16-7.166-16-15.1V304c0-8.834 7.168-15.1 16-15.1c8.834 0 16 7.166 16 15.1V432zM304 432c0 8.834-7.166 15.1-16 15.1c-8.832 0-16-7.166-16-15.1V304c0-8.834 7.168-15.1 16-15.1c8.834 0 16 7.166 16 15.1V432zM416 432c0 8.834-7.166 15.1-16 15.1c-8.832 0-16-7.166-16-15.1V304c0-8.834 7.168-15.1 16-15.1c8.834 0 16 7.166 16 15.1V432z" fill="currentColor"/></g></svg>

                <span class="link-text">Basket</span>
              </a>
            </li>

            <li class="nav-item">
              <a href="/myorders" class="nav-link">
                <svg aria-hidden="true" focusable="false" data-prefix="fa-duotone" data-icon="box-heart" class="svg-inline--fa fa-box-heart fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><defs><style>.fa-secondary{opacity:.4}</style></defs><g class="fa-group"><path class="fa-primary" d="M240 160V32h-32v128H0v272C0 458.5 21.49 480 48 480h352c26.51 0 48-21.49 48-48V160H240zM305.1 341.3l-72.63 71.38c-4.75 4.625-12.25 4.625-17 0l-72.63-71.38C121.8 320.5 123.1 286.1 146.6 267c20.5-16.75 51.13-13.75 70 4.75L224 279.1l7.375-7.375c18.88-18.5 49.38-21.5 70-4.75C324.9 286.1 326.1 320.4 305.1 341.3z" fill="currentColor"/><path class="fa-secondary" d="M447.6 158.8l-56.38-104.9C386.9 40.75 374.8 32 360.9 32H240v128h206.8C447.1 159.5 447.3 159.3 447.6 158.8zM208 160V32H87.13c-13.88 0-26 8.75-30.38 21.88L.375 158.8C.75 159.3 .875 159.5 1.25 160H208z" fill="currentColor"/></g></svg>

                <span class="link-text">My Orders</span>
              </a>
            </li>
            
            <li class="nav-item">
              <a  href="#" @onclick="async () => await ClearCart()"  class="nav-link">
                <svg aria-hidden="true" focusable="false" data-prefix="fa-duotone" data-icon="trash-can-check" class="svg-inline--fa fa-trash-can-check fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><defs><style>.fa-secondary{opacity:.4}</style></defs><g class="fa-group"><path class="fa-primary" d="M277.8 232.4l-79.13 92.34L168.1 295c-9.375-9.375-24.56-9.375-33.94 0s-9.375 24.56 0 33.94l48 48c4.5 4.5 10.62 7.031 16.97 7.031c.3125 0 .625 0 .9062-.0313c6.688-.25 12.97-3.281 17.31-8.344l96-112c8.625-10.06 7.469-25.22-2.594-33.84C301.6 221.2 286.4 222.3 277.8 232.4zM432 32H320l-11.58-23.16C305.7 3.424 300.2 0 294.1 0H153.9C147.8 0 142.3 3.424 139.6 8.844L128 32H16C7.164 32 0 39.16 0 48v32C0 88.84 7.164 96 16 96h416C440.8 96 448 88.84 448 80v-32C448 39.16 440.8 32 432 32z" fill="currentColor"/><path class="fa-secondary" d="M32 96v368C32 490.5 53.5 512 80 512h288c26.5 0 48-21.5 48-48V96H32zM314.2 263.6l-96 112c-4.344 5.062-10.62 8.094-17.31 8.344C200.6 383.1 200.3 383.1 200 383.1c-6.344 0-12.47-2.531-16.97-7.031l-48-48c-9.375-9.375-9.375-24.56 0-33.94s24.56-9.375 33.94 0l29.69 29.69l79.13-92.34c8.656-10.06 23.81-11.19 33.84-2.594C321.7 238.4 322.8 253.5 314.2 263.6z" fill="currentColor"/></g></svg>

                <span class="link-text">Clear Basket</span>
              </a>
            </li>
          </AuthorizeView>
            
          
          
          <AuthorizeView>
            
            <NotAuthorized>
              <li class="nav-item">
                <a href="/login" class="nav-link">
                  <svg aria-hidden="true" focusable="false" data-prefix="fa-duotone" data-icon="right-to-bracket" class="svg-inline--fa fa-right-to-bracket fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><defs><style>.fa-secondary{opacity:.4}</style></defs><g class="fa-group"><path class="fa-primary" d="M344.7 273.5l-144.1 136c-6.975 6.578-17.2 8.375-26 4.594C165.8 410.3 160.1 401.6 160.1 392V320H32.02C14.33 320 0 305.7 0 288V224c0-17.67 14.33-32 32.02-32h128.1V120c0-9.578 5.707-18.25 14.51-22.05c8.803-3.781 19.03-1.984 26 4.594l144.1 136C354.3 247.6 354.3 264.4 344.7 273.5z" fill="currentColor"/><path class="fa-secondary" d="M416 32h-64c-17.67 0-32 14.33-32 32s14.33 32 32 32h64c17.67 0 32 14.33 32 32v256c0 17.67-14.33 32-32 32h-64c-17.67 0-32 14.33-32 32s14.33 32 32 32h64c53.02 0 96-42.98 96-96V128C512 74.98 469 32 416 32z" fill="currentColor"/></g></svg>
                  <span class="link-text">LogIn</span>
                </a>
              </li>

              <li class="nav-item">
                <a href="/register" class="nav-link">
                  <svg aria-hidden="true" focusable="false" data-prefix="fa-duotone" data-icon="user-plus" class="svg-inline--fa fa-user-plus fa-w-20" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><defs><style>.fa-secondary{opacity:.4}</style></defs><g class="fa-group"><path class="fa-primary" d="M616 200h-48v-48C568 138.8 557.3 128 544 128s-24 10.75-24 24v48h-48C458.8 200 448 210.8 448 224s10.75 24 24 24h48v48C520 309.3 530.8 320 544 320s24-10.75 24-24v-48h48C629.3 248 640 237.3 640 224S629.3 200 616 200z" fill="currentColor"/><path class="fa-secondary" d="M224 256c70.7 0 128-57.31 128-128S294.7 0 224 0C153.3 0 96 57.31 96 128S153.3 256 224 256zM274.7 304H173.3C77.61 304 0 381.6 0 477.3C0 496.5 15.52 512 34.66 512h378.7C432.5 512 448 496.5 448 477.3C448 381.6 370.4 304 274.7 304z" fill="currentColor"/></g></svg>
                  <span class="link-text">Register</span>
                </a>
              </li>
            </NotAuthorized>
          </AuthorizeView>
          
          <AuthorizeView>
            <li class="nav-item">
                          <a href="#" @onclick="async () => await PerformLogout()" class="nav-link">
                            <svg aria-hidden="true" focusable="false" data-prefix="fa-duotone" data-icon="right-from-bracket" class="svg-inline--fa fa-right-from-bracket fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><defs><style>.fa-secondary{opacity:.4}</style></defs><g class="fa-group"><path class="fa-primary" d="M504.8 273.5l-144.1 136c-6.975 6.578-17.2 8.375-26 4.594c-8.803-3.797-14.51-12.47-14.51-22.05l-.0918-71.1l-128-.001c-17.69 0-32.02-14.33-32.02-32v-64c0-17.67 14.34-32 32.02-32l128 .001l.0918-72c0-9.578 5.707-18.25 14.51-22.05c8.803-3.781 19.03-1.984 26 4.594l144.1 136C514.4 247.6 514.4 264.4 504.8 273.5z" fill="currentColor"/><path class="fa-secondary" d="M96 480h64C177.7 480 192 465.7 192 448S177.7 416 160 416H96c-17.67 0-32-14.33-32-32V128c0-17.67 14.33-32 32-32h64C177.7 96 192 81.67 192 64S177.7 32 160 32H96C42.98 32 0 74.98 0 128v256C0 437 42.98 480 96 480z" fill="currentColor"/></g></svg>
            
                            <span class="link-text">LogOut</span>
                          </a>
                        </li>
          </AuthorizeView>
          

        </ul>
    </nav>

@code {
    private bool collapseNavMenu = true;

    private string NavMenuCssClass => collapseNavMenu ? "collapse" : null;

    private void ToggleNavMenu()
    {
        collapseNavMenu = !collapseNavMenu;
    }

    private async Task PerformLogout()
    {
        try
        {
            ((CustomAuthenticationStateProvider) AuthenticationStateProvider).Logout();
            NavigationManager.NavigateTo("/");
        }
        catch (Exception e)
        {
            Console.WriteLine(e.StackTrace);
        }
    }
    private async Task ClearCart()
    {
      
        await BasketService.Clear();
        NavigationManager.NavigateTo("/",true);
    }

}